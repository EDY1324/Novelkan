<div [class.dark-mode]="darkMode">
    <header>
      <h1>{{ novel?.title }}</h1>
      <button (click)="router.navigate(['/'])">⬅ Kembali</button>
      <button (click)="toggleDarkMode()">{{ darkMode ? '☀️' : '🌙' }}</button>
    </header>
  
    <main>
      <img [src]="novel?.cover" alt="{{ novel?.title }}" id="novelCover">
      <p id="novelDescription">{{ novel?.description }}</p>
  
      <button class="read" (click)="goToBaca()">Baca Sekarang</button>
      <button class="favorit" (click)="toggleFavorite()">
        <span [class.filled]="isFavorited">★</span> Favorit
      </button>
    </main>
  
    <section class="review-container">
      <h2>Berikan Ulasan</h2>
      <div class="rating">
        <span *ngFor="let star of [1,2,3,4,5]" (click)="selectRating(star)" 
              [style.color]="star <= selectedRating ? 'gold' : '#ddd'">★</span>
      </div>
      <input type="text" [(ngModel)]="username" placeholder="Masukkan nama Anda" />
      <textarea [(ngModel)]="reviewText" placeholder="Tuliskan ulasan Anda..."></textarea>
      <button class="submit-review" (click)="submitReview()">Kirim Ulasan</button>
  
      <div *ngFor="let review of reviews; let i = index" class="review">
        <h4><strong>{{ review.username }}</strong></h4>
        <p><strong>Rating: <span class="stars">{{ '★'.repeat(review.rating) }}</span></strong></p>
        <p>{{ review.text }}</p>
        <button (click)="editReview(i)">✏️</button>
        <button (click)="deleteReview(i)">🗑️</button>
      </div>
    </section>
  </div>